<html>
<head>
    <title>Registration</title>
    <link rel="stylesheet" href="{{url_for('static',filename='css/bootstrap.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='myfont/css/all.min.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
    <script src="{{url_for('static',filename='js/jquery.min.js')}}"></script>
    <style>
        .shadow{
            box-shadow:3px 3px 10px black;
            padding:30px;
        }
    </style>
</head>
<body>
    <div class="container" style="margin-top:100px">
        <div class="col-md-offset-3 col-md-5">
            <div class="shadow">
                <form method="POST" action="/faculty/change_password" onsubmit="return validatePassword()">
                    <h2 class="page-header text-primary text-center">Change Password</h2>
                    <div class="form-group">
                        <label for="email">email:</label>
                        <input type="text" class="form-control"id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="current_password">Current Password:</label>
                        <input type="password" class="form-control" id="current_password" name="current_password" required>
                    </div>
                    <div class="form-group">
                        <label for="new_password">New Password:</label>
                        <input type="password" class="form-control" id="new_password" name="new_password" required>
                    </div>
                     <div class="form-group">
                        <input type="submit" value="Change Password" class="btn btn-success btn-block">
                        <a href="{{url_for('faculty_login')}}" class="btn btn-primary btn-block">Back to Home</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; TUSHAR | 2023</p>
    </footer>
</body>
</html>
<script>
    $(document).ready(function(){
        $("form").attr("autocomplete","off");
    });
    function validatePassword() {
        var password = document.getElementById("new_password").value;
        var passwordStrengthRegex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?!.*\s).{8,}$/;

        if (!passwordStrengthRegex.test(password)) {
            alert("Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one digit, one special character (!@#$%^&*), and no whitespace.");
            return false;
        }

        return true;
    }

</script>